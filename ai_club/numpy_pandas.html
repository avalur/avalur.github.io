<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

        <meta name="description" content="JetBrains AI school club">
        <meta name="author" content="Alex Avdiushenko" />
        <meta name="keywords" content="STEM Education, Artificial Intelligence">

		<title>Numpy and Pandas</title>

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/sky.css">

        <!-- Theme used for syntax-highlighted code -->
		<link rel="stylesheet" href="../plugin/highlight/monokai.css">

        <link rel="stylesheet" href="https://pyscript.net/releases/2024.11.1/core.css">
        <script type="module" src="https://pyscript.net/releases/2024.11.1/core.js"></script>
		<style>
			.column {
			  float: left;
			  width: 48%;
			  padding: 2px;
			}
			/* Clear floats after image containers */
			.row::after {
			  content: "";
			  clear: both;
			  display: table;
			}
			.important {
				color: orange;
			}
		</style>
	</head>
	<body onload="totalWrapper();">
		<div class="reveal">
			<div class="slides">
				<section>
                    <section>
                        <div class="column">
                            <img src="images/jetbrains_logo_icon_145150.webp" alt="jetbrains_logo" />
                        </div>
                        <div class="column">
                            <h2>Youth AI club</h2>
                            <div class="fragment" style="margin-bottom:20px;">
                                    <div class="typesetting">
                                        <h3>Lecture 2. Numpy and Pandas</h3>
                                        <br />
                                        Alex Avdiushenko <br />
                                        October 9, 2024
                                    </div>
                            </div>
                        </div>
                    </section>
                    <section>
                        <h3 style="text-align: left">In the last episode</h3>
                        <div class="fragment" style="text-align: left">
                            <div class="typesetting">
                                <ul>
                                    <li>Python language: easy, free, high-level and fun!</li>
                                    <li>Python object: <span style="color:#17ff2e">id</span> (~address in memory),
                                        <span style="color:#17ff2e">type</span> and <span style="color:#17ff2e">value</span></li>
                                    <li>Size of int in Python: 24+ bytes!</li>
                                    <li><span class="important">PyCharm</span>: install and write code üë©‚Äçüíª</li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </section>
                <section>
                    <section>
                        <h3 style="text-align: left"><a href="https://docs.scipy.org/doc/numpy/user/index.html">NumPy</a></h3>
                        <p style="text-align: left">Since 1995 known as numeric, since 2006 as NumPy ‚Äî "Numerical Python extensions"</p>
    					<div class="fragment" style="margin-bottom:20px;">
							<div class="typesetting">
                                <p style="text-align: left">Key features of the NumPy library:</p>
                                <ul>
                                  <li>Work with multi-dimensional arrays (tables)</li>
                                  <li>Quickly compute mathematical functions on multi-dimensional arrays</li>
                                </ul>
                                <br><br>
                                <p style="text-align: left">The core of the NumPy package is
                                    the <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html">ndarray</a> object</p>
                            </div>
                        </div>
                    </section>
                    <section>
                        <h3 style="text-align: left"><strong>Important differences</strong> between NumPy arrays and Python sequences</h3>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <ul>
                              <li>NumPy array has a fixed length, which is determined at the time of its creation
                                  (unlike Python lists, which can grow dynamically)</li>
                              <li>Elements in a NumPy array must be of the same type</li>
                              <li>You can perform operations directly on NumPy arrays</li>
                            </ul>
                            </div>
                        </div>
                        <br>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left"><strong>Speed</strong> of NumPy is due to:</p>
                            <ul>
                              <li>Implementation in <span class="important">C</span></li>
                              <li>Vectorization and Broadcasting (e.g., multiplication of arrays of compatible shapes)</li>
                            </ul>
                            </div>
                        </div>
                    </section>
                    <section>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <h3 style="text-align: left">Ways to create Numpy arrays</h3>
                            <ul>
                              <li><a href="numpy_pandas.html#conv-from-py">Conversion from Python structures</a></li>
                              <li><a href="numpy_pandas.html#gen-numpy">Generation using built-in functions</a></li>
                              <li><a href="numpy_pandas.html#read-from-disk">Reading from disk</a></li>
                            </ul>
                            </div>
                        </div>
                    </section>
                    <section id="conv-from-py" data-background-color="#fdf6e3">
                        <h3 style="text-align: left">Conversion from Python structures</h3>
                        <script type="py-editor" config='{"packages":["numpy"]}' env="shared">
                            import numpy as np
                            print(np.array([1, 2, 3, 4, 5]))
                        </script>
                        <div class="fragment" style="margin-bottom:20px;">
                            <p>During conversion, you can specify the data type using the
                                <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.dtype.html">dtype</a> argument:</p>
                            <script type="py-editor" env="shared">
                                print(np.array([1, 2, 3, 4, 5], dtype=np.float32))
                            </script>
                            <p>Or similarly</p>
                            <script type="py-editor" env="shared">
                                print(np.float32([1, 2, 3, 4, 5]))
                            </script>
                        </div>
                    </section>
                    <section id="gen-numpy">
                        <h3 style="text-align: left">Generation of numpy arrays</h3>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <ul>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html">arange</a> ‚Äî
                                  analogue of Python's range, to which a non-integer step can be passed</li>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.linspace.html">linspace</a> ‚Äî
                                  a way to evenly divide a segment into <code>n-1</code> intervals</li>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.logspace.html">logspace</a> ‚Äî
                                  a way to divide a segment on a logarithmic scale</li>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.zeros.html">zeros</a> ‚Äî
                                  creates an array filled with zeros of the specified dimension</li>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ones.html">ones</a> ‚Äî
                                  creates an array filled with ones of the specified dimension</li>
                              <li><a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.empty.html">empty</a> ‚Äî
                                  creates an array of the specified dimension not initialized with any value</li>
                            </ul>
                            </div>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="shared">
                            print(np.arange(0, 5, 2))
                        </script>
                        <script type="py-editor" env="shared">
                            print(np.linspace(0, 5, 11))
                        </script>
                        <script type="py-editor" env="shared">
                            print(np.logspace(0, 9, 10, base=2))
                        </script>
                        <script type="py-editor" env="shared">
                            print(np.zeros((2, 2, 3)))
                        </script>
                        <script type="py-editor" env="shared">
                            print(np.diag([1,2,3]))
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">The array sizes are stored in the <strong>shape</strong> field, and the number of dimensions are stored in
                            <strong>ndim</strong>.</p>
                        <script type="py-editor" env="shared">
                            arr = np.ones((2, 3))
                            print(f"Array shape ‚Äî {arr.shape}, number of dimensions ‚Äî {arr.ndim}")
                        </script>
                        <p style="text-align: left">The <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.reshape.html">reshape</a> method
                            allows you to transform the dimensions of an array without changing the data,
                            but <strong>possibly with copying</strong>.</p>
                        <script type="py-editor" env="shared">
                            array = np.arange(0, 6)
                            array = array.reshape((2, 3))
                            print(array)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="shared">
                            a = np.zeros((10, 2))

                            # A transpose makes the array non-contiguous
                            b = a.T

                            # Taking a view makes it possible to modify the shape
                            # without modifying the initial object
                            c = b.view()

                            # AttributeError: ... Use `.reshape()` to make a copy with the desired shape
                            c.shape = (20)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="shared">
                            print(a)
                        </script>
                        <script type="py-editor" env="shared">
                            # it is possible to change the shape of the initial array
                            # but don't do it, because it is bad practice
                            a.shape = (20)
                            print(a)
                        </script>
                        <p style="text-align: left">To unroll a multi-dimensional array into a vector,
                            you can use the <a href="https://numpy.org/doc/stable/reference/generated/numpy.ravel.html">ravel</a>
                            function (equivalent to `reshape(-1, order=order)`).</p>
                        <script type="py-editor" env="shared">
                            array = np.arange(0, 6)
                            array = array.reshape((2, 3))
                            array = np.ravel(array)
                            print(array)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3 style="text-align: left">Indexation</h3>
                        <p>In NumPy, familiar Python indexing works, including the use of negative indices and slices.</p>
                        <script type="py-editor" env="shared">
                            import numpy as np
                            array = np.arange(0, 6)
                            print(array[0], array[-1])
                            print(array[1:-1])
                            print(array[1:-1:2])
                            print(array[::-1])
                        </script>
                    </section>
                    <section>
                        <div style="margin-bottom:20px;text-align: left">
                            <div class="alert alert-info">
                            <b>Note 1:</b> Indices and slices in multidimensional arrays do not need to be
                                separated by square brackets, i.e., instead of
                                <b>matrix[i][j]</b> you should use <b>matrix[i, j]</b>
                            </div>
                        </div>
                        <div class="fragment" style="margin-bottom:20px;text-align: left">
                            <div class="alert-info">
                            <b>Note 2:</b> Slices in NumPy create views, not copies,
                                as in the case of slices in native Python sequences (string, tuple, and list)
                            </div>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">You can use lists as indices.</p>
                        <script type="py-editor" env="shared">
                            import numpy as np
                            array = np.arange(0, 6)
                            print(array[[0, 2, 4]])
                        </script>
                        <script type="py-editor" env="shared">
                            array[[True, False, True, False, True, False]]
                        </script>
                        <script type="py-editor" env="shared">
                            x = np.array([[1, 2, 3]])
                            y = np.array([1, 2, 3])

                            print(x.shape, y.shape)
                            print(np.array_equal(x, y))
                            print(np.array_equal(x, y[np.newaxis, :]))
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="shared">
                            x = np.arange(10)
                            print(x)
                        </script>
                        <script type="py-editor" env="shared">
                            print(x % 2)
                        </script>
                        <script type="py-editor" env="shared">
                            print(x[(x % 2 == 0) & (x > 5)])
                        </script>
                        <script type="py-editor" env="shared">
                            print(x)
                            x[x > 3] *= 2
                            print(x)
                        </script>
                    </section>
                    <section id="read-from-disk" data-background-color="#fdf6e3">
                        <h3 style="text-align: left">Reading from disk</h3>
                        <p style="text-align: left">(but better use pandas)</p>
                        <script type="py-editor" config="pyscript.toml" env="read">
                            from numpy import genfromtxt
                            data = genfromtxt('example.csv', delimiter=',', skip_header=1)
                            for row in data:
                                print(row)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="read">
                            help(genfromtxt)
                        </script>
                    </section>
                </section>
                <section>
                    <section data-background-color="#fdf6e3">
                        <h3>Broadcasting and Vectorization</h3>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left">Operations in NumPy can be performed directly on vectors
                                of equal dimension <span style="color: orange" >without using loops.</span>
                            For example, the computation of the element-wise difference between vectors
                                looks like this:</p>
                            </div>
                        </div>
                        <div class="fragment" style="margin-bottom:20px;">
                            <script type="py-editor" env="read">
                                import numpy as np
                                _l = np.ones(5)
                                x = np.linspace(1, 5, 5)
                                print(x - _l)
                                print(x - 2 * _l)
                            </script>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <div style="margin-bottom:20px;">
                            <div class="typesetting">
                                <p style="text-align: left">Similarly, for multi-dimensional arrays.</p>
                                <p style="text-align: left"><strong>Note 3:</strong> All arithmetic operations on arrays of the same size
                                    are performed element-wise.</p>
                            </div>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3>Broadcasting</h3>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left">Broadcasting removes "the same dimension" rule and allows you to perform arithmetic operations
                                on arrays of different, but still, aligned dimensions.
                                The simplest example is multiplying a vector by a number</p>
                            <p><img src="https://i.imgur.com/tE3ZCWG.gif" alt="Imgur"></p>
                            </div>
                        </div>
                        <div class="fragment" style="margin-bottom:20px;">
                            <script type="py-editor" env="read">
                                import numpy as np
                                np.arange(1, 4) * 2
                            </script>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">The rule of dimensionality consistency is expressed in one sentence:</p>
                        <div class="fragment r-frame" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left"><code>For broadcasting, starting from right
                                the dimensions along the axes in two arrays must either be the same,
                                or one of them must be equal to one.</code>
                            </p>
                            </div>
                        </div>
                        <div class="fragment" style="margin-bottom:20px;">
                            <script type="py-editor" env="read">
                                a  = np.ones((2, 3, 4))
                                b = np.arange(1, 5) # b.shape = (4,)
                                # here a.shape = (2, 3, 4) and
                                # b.shape is considered to be (1, 1, 4)
                                print(a * b)
                            </script>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">Add the same vector to each row of the matrix.</p>
                        <script type="py-editor" env="read">
                            np.array([[0, 0, 0], [10, 10, 10], [20, 20, 20], [30, 30, 30]]) + np.arange(3)
                        </script>
                        <p><img src="../ml_with_python/images/broadcasting.gif" alt="broadcasting"></p>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">Now if we want to do the same trick but with columns, we can't just add a vector consisting
                            of 4 elements because in this case the dimensions will not be coordinated.</p>
                        <p><img src="../ml_with_python/images/wrong_shapes.gif" alt="wrong_shapes"></p>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left">First, the vector needs to be transformed to the form:</p>
                        <script type="py-editor" env="read">
                            print(np.arange(4))
                        </script>
                        <script type="py-editor" env="read">
                            print(np.arange(4)[:, np.newaxis])
                        </script>
                        <p style="text-align: left">And then add the matrix to it:</p>
                        <script type="py-editor" env="read">
                            print(np.arange(4)[:, np.newaxis] + np.array([[0, 0, 0], [10, 10, 10], [20, 20, 20], [30, 30, 30]]))
                        </script>
                    </section>
                    <section>
                        <p style="text-align: left">If you need to multiply multidimensional arrays not element-by-element,
                            but according to the rule of matrix multiplication, you should use
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html">np.dot</a>.</p>
                            <p style="text-align: left">
                            Transposition is done with array<strong>.T</strong></p>
                        <br>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left">Also, NumPy has implemented many useful operations for working with arrays:
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.min.html">np.min</a>,
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.max.html">np.max</a>,
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.sum.html">np.sum</a>,
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.mean.html">np.mean</a>, etc.</p>
                            </div>
                        </div>
                        <br>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left"><strong>Note:</strong> Each of the listed functions has the <strong>axis</strong> parameter,
                            which indicates along which dimension to perform this operation.
                            By default, the operation is performed on all values of the array.</p>
                            </div>
                        </div>
                    </section>
                </section>
                <section>
                    <section data-background-color="#fdf6e3">
                        <h3 style="text-align: left">Operations</h3>
                        <script type="py-editor" env="read">
                            import numpy as np
                            x = np.arange(20).reshape(4, 1, 5)
                            print(x)
                            print(x.T.shape)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="read">
                            print(x.mean())
                            print(np.mean(x))
                        </script>
                        <script type="py-editor" env="read">
                            x_mean_0 = x.mean(axis=0)
                            print(x_mean_0.shape)
                            print(x_mean_0)
                        </script>
                        <script type="py-editor" env="read">
                            x_mean_1 = x.mean(axis=1)
                            print(x_mean_1.shape)
                            print(x_mean_1)
                        </script>
                        <script type="py-editor" env="read">
                            x_mean_02 = x.mean(axis=(0, 2))
                            print(x_mean_02.shape)
                            print(x_mean_02)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3 style="text-align: left">Concatenation of multidimensional arrays</h3>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                                <p style="text-align: left">You can concatenate several arrays using the functions
                                    <strong>np.concatenate, np.vstack, np.hstack, np.dstack</strong></p>
                            </div>
                        </div>
                        <div class="fragment" style="margin-bottom:20px;">
                            <script type="py-editor" env="read">
                                import numpy as np
                                x = np.arange(10).reshape(5, 2)
                                y = np.arange(100, 120).reshape(5, 4)
                                print(f"{x=},\n {y=}")
                            </script>
                            <script type="py-editor" env="read">
                                print(np.hstack((x, y)))
                            </script>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="read">
                            p = np.arange(1).reshape([1, 1, 1, 1])
                            print(p)
                        </script>
                        <script type="py-editor" env="read">
                            print("vstack: ", np.vstack((p, p)).shape)
                            print("hstack: ", np.hstack((p, p)).shape)
                            print("dstack: ", np.dstack((p, p)).shape)
                        </script>
                        <script type="py-editor" env="read">
                            print(np.concatenate((p, p), axis=3).shape)
                        </script>
                    </section>
                </section>
                <section>
                    <section data-background-color="#fdf6e3">
                        <h3>Numpy types</h3>
                        <script type="py-editor" env="read">
                            import numpy as np
                            x = [1, 2, 70000]
                            print(np.array(x, dtype=np.float64))
                        </script>
                        <script type="py-editor" env="read">
                            print(np.array(x, dtype=np.uint16))
                        </script>
                        <script type="py-editor" env="read">
                            print(np.array(x, dtype=np.unicode_))
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3>Function vectorization</h3>
                        <script type="py-editor" env="read">
                            def f(value):
                                return np.sqrt(value)

                            vf = np.vectorize(f)
                            # like the python "map" function,
                            # except it uses the broadcasting rules of numpy
                        </script>
                        <script type="py-editor" env="read">
                            print(vf(np.arange(10)))
                        </script>
                    </section>
                    <section>
                        <h3>Let's have a break!</h3>
                    </section>
                </section>
                <section>
                    <section>
                        <h2><a href="https://pythonspot.com/category/pandas/">Pandas</a></h2>
                        <div class="fragment" style="margin-bottom:20px;">
                            <div class="typesetting">
                            <p style="text-align: left">Consider the Pandas library (named from panel data), designed for reading,
                                preprocessing and fast visualization of structured data, as well as for simple analytics.</p>
                            <br>
                            <p style="text-align: left">Even when there are only two columns (for example, grouping by one and aggregating by the second),
                                Pandas is already better. The column titles should correctly reflect the physical meaning,
                                the index (row labels) is not necessarily numerical.</p>
                            </div>
                        </div>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" config="pyscript.toml" env="pandas">
                            import pandas as pd
                            df = pd.read_csv("titanic.csv", sep="\t")
                        </script>
                        <script type="py-editor" env="pandas">
                            print(df.head(3))
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="pandas">
                            print(df[["Sex", "Cabin"]].describe())
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3>Slices in DataFrames</h3>
                        <script type="py-editor" env="pandas">
                            df.sort_values("Age", inplace=True)
                            print(df.iloc[78]) # integer-location ‚Äî just a line in order from 0 to length-1
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="pandas">
                            print(df.loc[78]) # index 78
                        </script>
                        <script type="py-editor" env="pandas">
                            print(df.loc[[78, 79, 100], ["Age", "Name"]])
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left"><b>Note:</b> If you want to modify the data of a slice
                        without changing the main table, you need to make a copy.</p>
                        <script type="py-editor" env="pandas">
                            df_slice_copy = df.loc[[78, 79, 100], ["Age", "Name"]].copy()
                            df_slice_copy["Age"] = 3
                            print(df_slice_copy)
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <p style="text-align: left"><b>Note:</b> If you want to change the main table, use <b>loc/iloc</b>.</p>
                        <script type="py-editor" env="pandas">
                            some_slice = df["Age"].isin([20, 25, 30])
                            df.loc[some_slice, "Fare"] = df.loc[some_slice, "Fare"] * 1000
                        </script>
                        <p style="text-align: left">And don't do this way:</p>
                        <script type="py-editor" env="pandas">
                            slice_df = df[some_slice]
                            slice_df["Fare"] = slice_df["Fare"] * 10
                        </script>
                    </section>
                    <section>
                        <p style="text-align: left">You can get the values of only the necessary columns by
                            passing in <code>[]</code> the column name (or list of column names).</p>
                        <br>
                        <p style="text-align: left"><strong>Note:</strong> If we pass the name of one column,
                            we get an object of class
                            <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html">pandas.Series</a>,
                            and if a list of column names, we get a
                            <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">pandas.DataFrame</a>.
                            To get a
                            <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.array.html">numpy.array</a>,
                            refer to the <strong>values</strong> field.</p>
                        <br>
                        <p style="text-align: left">Series and DataFrame have many common methods.</p>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="pandas">
                            # pandas.Series
                            print(df["Age"].head(5))
                        </script>
                        <script type="py-editor" env="pandas">
                            # pandas.DataFrame
                            print(df[["Age"]].head(5))
                        </script>
                        <script type="py-editor" env="pandas">
                            # Series to DataFrame
                            s = pd.Series([1, 2, 3], index=["Red", "Green", "Blue"])
                            print(s.to_frame("Values"))
                        </script>
                    </section>
                    <section data-background-color="#ffffff">
                        <h3>How to make concatenation?</h3>
                        <img src="../ml_with_python/images/merging_concat_basic.png" alt="merging_concat_basic" width="50%">
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3>Join and merge</h3>
                        <script type="py-editor" env="pandas">
                            df1 = df[["Age", "Parch"]].copy()
                            df2 = df[["Ticket", "Fare"]].copy()
                        </script>
                        <script type="py-editor" env="pandas">
                            # by index
                            print(df1.join(df2).head(3))
                        </script>
                        <script type="py-editor" env="pandas">
                            df1 = df[["Age", "Parch", "PassengerId"]].copy()
                            df2 = df[["Ticket", "Fare", "PassengerId"]].copy()
                        </script>
                        <script type="py-editor" env="pandas">
                            # by columns
                            print(pd.merge(df1, df2, on=["PassengerId"], how="inner").head(3))
                        </script>
                    </section>
                    <section>
                      <h3 style="text-align: left">Key Differences: <code>merge</code> vs <code>join</code></h3>
                      <h4 style="text-align: left">Key or Index</h4>
                      <ul>
                        <li><strong>merge</strong>: Works on <strong>columns</strong> by default but can also be used to merge on the index</li>
                        <li><strong>join</strong>: Works on <strong>indices</strong> by default</li>
                      </ul><br><br>

                      <h4 style="text-align: left">Flexibility</h4>
                      <ul>
                        <li><strong>merge</strong> is more flexible, allowing you to specify columns or indices for merging</li>
                        <li><strong>join</strong> is primarily designed for index-based joining, though it can handle column-index joining if specified</li>
                      </ul><br><br>

                      <h4 style="text-align: left">Usage</h4>
                      <ul>
                        <li>Use <strong>merge</strong> when you want SQL-like joins with more flexibility (working with both columns and indices)</li>
                        <li>Use <strong>join</strong> when you want a simpler and faster way to join DataFrames on their indices</li>
                      </ul>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <h3>Grouping</h3>
                        <script type="py-editor" env="pandas">
                            print("Pclass 1: ", df[df["Pclass"] == 1]["Age"].mean())
                            print("Pclass 2: ", df[df["Pclass"] == 2]["Age"].mean())
                            print("Pclass 3: ", df[df["Pclass"] == 3]["Age"].mean())
                        </script>
                        <script type="py-editor" env="pandas">
                            print(df.groupby(["Pclass"])[["Age"]].mean())
                        </script>
                        <script type="py-editor" env="pandas">
                            print(df.groupby(["Survived", "Pclass"]))
                        </script>
                        <script type="py-editor" env="pandas">
                            print(df.groupby(["Survived", "Pclass"])["PassengerId"].count())
                        </script>
                    </section>
                    <section data-background-color="#fdf6e3">
                        <script type="py-editor" env="pandas">
                            print(df.groupby(["Survived", "Pclass"])[["PassengerId", "Cabin"]].count())
                        </script>
                    </section>
                    <section>
                        <div class="r-frame"><a href="https://wesmckinney.com/blog/apache-arrow-pandas-internals/">
                            Wes McKinney: "10 Things I Hate About pandas"
                        </a></div>
                    </section>
                </section>
            </div>
        </div>
		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/highlight/highlight.js"></script>
		<script src="../plugin/math/math.js"></script>
		<script src="../scripts/utils.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				// The "normal" size of the presentation, aspect ratio will
				// be preserved when the presentation is scaled to fit different
				// resolutions. Can be specified using percentage units.
				width: '100%',
				height: '100%',
				// Factor of the display size that should remain empty around the content
				margin: 0.08,

				// Bounds for smallest/largest possible scale to apply to content
				minScale: 0.2,
				maxScale: 2.0,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX ]
			});

			Reveal.addEventListener('fragmentshown', function (event) {
				if (lettersAnimate) {
					[...event.fragment.getElementsByClassName('typesetting')].forEach(element => {
						playAnimation(element);
					});
				}
			});
        </script>
    </body>
</html>